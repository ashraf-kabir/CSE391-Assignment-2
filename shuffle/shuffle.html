<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shuffle</title>

    <script src="../vendor/jquery/jquery.min.js"></script>
    <script>
        function shuffleLines() {
            var lines = $('#links').val().split(/\n/);
            var texts = [];
            for (var i = 0; i < lines.length; i++) {
                if (/\S/.test(lines[i])) {
                    texts.push($.trim(lines[i]));
                }
            }

            //shuffle
            for (let i = texts.length - 1; i > 0; i--){
                const j = Math.floor(Math.random() * i);
                const temp = texts[i];
                texts[i] = texts[j];
                texts[j] = temp;
            }

            for (var i = 0; i < texts.length; i++) {
                //alert(i + "-  " + texts[i]);
                var x = texts[i];
                var textarea = document.getElementById("links");
                textarea.value = texts.join("\n");
            }

        }
    </script>

</head>
<body>

    <textarea id="links" name="upload" cols=80 rows=10></textarea><br>
    <input type="submit" value="Shuffle" onclick="shuffleLines();"/>

</body>
</html>